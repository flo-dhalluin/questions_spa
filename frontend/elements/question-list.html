<link rel="import"
      href="/static/bower_components/polymer/polymer.html">
<link rel="import"
      href="/static/bower_components/iron-ajax/iron-ajax.html">
<link rel="import"
      href="/static/bower_components/paper-item/paper-item.html">
<link rel="import"
      href="/static/bower_components/paper-item/paper-item-body.html">
<link rel="import"
      href="/static/bower_components/paper-listbox/paper-listbox.html">
<link rel="import"
      href="/static/bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import"
      href="/static/bower_components/paper-toolbar/paper-toolbar.html">

<dom-module id="question-list">
  <template>
    <iron-ajax
       auto
       url="/q/"
       handle-as="json"
       last-response="{{questions}}"
       debounce-duration="300">
    </iron-ajax>
    <!-- hardcoded url to our REST api view
         the result of the query is bound to this component "questions" variable -->      

    <paper-listbox>
      <template is="dom-repeat" items="[[questions]]">
	<paper-item>
	  <paper-item-body>
	    {{item.question}}
	  </paper-item-body>
	</paper-item>
      </template>
    </paper-listbox>
  </template>
  
  <script>
      Polymer({
      is:"question-list",
      ready: function() {
         this.questions = []; /* start empty */
         console.log("hello le monde, ici question-list");
      },
      });
      
  </script>
</dom-module>
